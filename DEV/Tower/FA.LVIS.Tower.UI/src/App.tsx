import React, { useState, useEffect } from 'react';
import { BrowserRouter as Router, Route, Switch } from 'react-router-dom';

function TowerApp() {
    const [unauthorized, setUnauthorized] = useState(false); // Simulating unauthorized state
    const [currentUser, setCurrentUser] = useState('John Doe');
    const [tenantName, setTenantName] = useState('Tenant 1');

    // Placeholder for effect to check if user is unauthorized
    useEffect(() => {
        // Logic to determine if the user is unauthorized
        // setUnauthorized(true or false);
    }, []);

    const routesConfig = [
        { path: '/dashboard', component: <div>Dashboard Component</div>, activetab: 'dashboard' },
        { path: '/reporting', component: <div>Reporting Component</div>, activetab: 'reporting' },
        { path: '/auditing', component: <div>Auditing Component</div>, activetab: 'auditing' },
        { path: '/security', component: <div>Security Component</div>, activetab: 'security' },
        // Additional routes can be mapped here
    ];

    return (
        <Router>
            <div>
                {unauthorized ? (
                    <div className="alert alert-danger">
                        <div className="error"><i className="fa fa-lg fa-ban"> Unauthorized Access</i></div>
                    </div>
                ) : (
                    <div>
                        <div antiforgerytoken></div>
                        {/* Your JSX code will use state variables like currentUser, tenantName here */}
                        <Switch>
                            {routesConfig.map((route, index) => (
                                <Route key={index} path={route.path} exact>
                                    {route.component}
                                </Route>
                            ))}
                        </Switch>
                    </div>
                )}
            </div>
        </Router>
    );
}

export default TowerApp;