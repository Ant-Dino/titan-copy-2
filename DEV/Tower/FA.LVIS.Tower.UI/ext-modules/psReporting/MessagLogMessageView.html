import React, { useState, useEffect } from 'react';

interface MessageViewModel {
  HeaderValue: string;
  Content: string;
}

const MessageViewReactComponent: React.FC = () => {
  const [vmTest, setVmTest] = useState<MessageViewModel>({ HeaderValue: '', Content: '' });

  // Simulate fetching data
  useEffect(() => {
    // This would be replaced with actual data fetching logic
    const fetchData = async () => {
      // Dummy data to simulate an API response
      const fetchedData: MessageViewModel = {
        HeaderValue: "Message Header",
        Content: "This is the message content fetched from an API."
      };
      setVmTest(fetchedData);
    };

    fetchData();
  }, []);

  const handleClose = () => {
    console.log('Close button clicked');
    // Logic to close the modal or component
  }

  return (
    <div>
      <div antiforgerytoken=""></div>
      <div className="widget-header">
        <button type="button" onClick={handleClose} className="close" data-dismiss="modal">
          <i className="fa fa-times" aria-hidden="true"></i>
        </button>
        <i className="fa fa-2x fa-pencil-square-o"></i>
        <h3>{vmTest.HeaderValue}</h3>
      </div>
      <div className="widget-content">
        <div growl="" inline="true"></div>
        <form name="mESSAGEfORM" className="serviceForm">
          <div className="form-group">
            <textarea
              style={{
                minWidth: '99.8%',
                minHeight: '480px',
                textWrap: 'none',
                fontFamily: "'Courier New'",
              }}
              readOnly
              className="textarea-lg"
              spellCheck="false"
              value={vmTest.Content}
            ></textarea>
          </div>
        </form>
        <br />
        <div className="modal-footer">
          <button className="btn btn-primary" onClick={handleClose}>Close</button>
        </div>
      </div>
    </div>
  );
}

export default MessageViewReactComponent;